[
  {
    "id" : "0fbeafb9-4e15-45b0-893b-2e928a555861",
    "prId" : 1352,
    "prUrl" : "https://github.com/scalameta/metals/pull/1352",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5adfb404-0c2d-4d4b-9542-1b46bda73183",
        "parentId" : null,
        "authorId" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "body" : "Can you please configure IntelliJ to \r\n\r\n* sort everything alphabetically\r\n* don't group prefix with `import a.{b,c}`",
        "createdAt" : "2020-01-25T16:55:54Z",
        "updatedAt" : "2020-01-28T02:16:30Z",
        "lastEditedBy" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "tags" : [
        ]
      },
      {
        "id" : "3ca46442-aaca-4707-886e-1564248ad48d",
        "parentId" : "5adfb404-0c2d-4d4b-9542-1b46bda73183",
        "authorId" : "13e45e0d-7c54-4d12-8662-68857534b597",
        "body" : "Done.",
        "createdAt" : "2020-01-27T16:42:32Z",
        "updatedAt" : "2020-01-28T02:16:30Z",
        "lastEditedBy" : "13e45e0d-7c54-4d12-8662-68857534b597",
        "tags" : [
        ]
      }
    ],
    "commit" : "be7a84552b77893b7f348eeb8d622c35ad102402",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +2,6 @@\nimport bloop.config.{Config => C}\nimport ch.epfl.scala.bsp4j.BuildTargetIdentifier\nimport coursierapi.Dependency\nimport coursierapi.MavenRepository"
  },
  {
    "id" : "89076017-2d62-4d1a-9324-f96d7f2c6613",
    "prId" : 1181,
    "prUrl" : "https://github.com/scalameta/metals/pull/1181",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4e003af4-7854-4316-9de7-aa199cb48718",
        "parentId" : null,
        "authorId" : "13e45e0d-7c54-4d12-8662-68857534b597",
        "body" : "nit: I think indenting the `if` would make these filters more readable.",
        "createdAt" : "2019-12-10T20:45:43Z",
        "updatedAt" : "2019-12-11T10:39:31Z",
        "lastEditedBy" : "13e45e0d-7c54-4d12-8662-68857534b597",
        "tags" : [
        ]
      },
      {
        "id" : "f3a1a0f1-1a85-457e-a517-17c2aec7383e",
        "parentId" : "4e003af4-7854-4316-9de7-aa199cb48718",
        "authorId" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "body" : "This is how scalafmt formats this. Originally it used to indent `if` filters in for comprehensions but it got changed because it got weird in places like\r\n```scala\r\nfor {\r\n  a <- list()\r\n  b <- list()\r\n  if a > 2\r\n  if b < 1\r\n```",
        "createdAt" : "2019-12-11T10:10:05Z",
        "updatedAt" : "2019-12-11T10:39:33Z",
        "lastEditedBy" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "tags" : [
        ]
      }
    ],
    "commit" : "da92e30ee6e1e5d61ccb46ecfc290af2da243900",
    "line" : 413,
    "diffHunk" : "@@ -1,1 +372,376 @@    classpath ++= (for {\n      dependency <- transitiveDependencies\n      if !dependency.isTargetRoot\n      entry <- exportClasspath(dependency)\n    } yield entry)"
  },
  {
    "id" : "01ea742f-6919-4140-906a-235fc3042f34",
    "prId" : 935,
    "prUrl" : "https://github.com/scalameta/metals/pull/935",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5271cfca-cef5-4be1-ad1b-672f9ff944ca",
        "parentId" : null,
        "authorId" : "a7ecab15-7126-4839-9885-ed1a3031e6b8",
        "body" : "Would we care to have it in `bloop` itself?",
        "createdAt" : "2019-09-24T10:03:33Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "a7ecab15-7126-4839-9885-ed1a3031e6b8",
        "tags" : [
        ]
      },
      {
        "id" : "77877758-5e87-4b45-98b2-f47a005a2ea4",
        "parentId" : "5271cfca-cef5-4be1-ad1b-672f9ff944ca",
        "authorId" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "body" : "See reply to Marek's comment, this should ideally live in Pants",
        "createdAt" : "2019-09-26T15:49:03Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "tags" : [
        ]
      }
    ],
    "commit" : "a95ae87fd9621161d156685f32480fcb7bb451a4",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +31,35 @@import scala.sys.process.Process\n\nobject BloopPants {\n\n  def main(argStrings: Array[String]): Unit = {"
  },
  {
    "id" : "4b5814c3-94e9-4f95-93ed-0d2f57f76604",
    "prId" : 935,
    "prUrl" : "https://github.com/scalameta/metals/pull/935",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "325c4a9e-0b51-4f00-9f1d-cc91187bd18c",
        "parentId" : null,
        "authorId" : "99b86a37-7b24-412b-846e-038ecface4d6",
        "body" : "how does this package relate to `scala.meta.internal.build.Pants*`? If pants require more configuration, then it should be placed together, for example in `build.pants.BloopPants`. Currently there is no way of knowing the difference without checking the content of those files",
        "createdAt" : "2019-09-25T07:52:19Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "99b86a37-7b24-412b-846e-038ecface4d6",
        "tags" : [
        ]
      },
      {
        "id" : "308404e5-ba76-42f5-8bf9-4643cd95a7c8",
        "parentId" : "325c4a9e-0b51-4f00-9f1d-cc91187bd18c",
        "authorId" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "body" : "This logic is separate from the `build.Pants*` classes since it's a standalone command-line interface to export a pants build to Bloop while the `build.Pants*` classes are metals-specific and have the same structure as other `build.{Maven,Mill,Sbt,...}` classes. The `pantsbuild` package should have no dependencies on other parts of the Metals codebase.\r\n\r\nI have a branch to the main pants repository that contains the same PantsBloop code, which I'd like to contribute one day https://github.com/pantsbuild/pants/compare/master...olafurpg:bloop-install?expand=1. The reason I haven't opened that PR yet is because the solution in this PR works with any Pants version that the user has installed locally.",
        "createdAt" : "2019-09-26T15:48:32Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "tags" : [
        ]
      }
    ],
    "commit" : "a95ae87fd9621161d156685f32480fcb7bb451a4",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@package scala.meta.internal.pantsbuild\n\nimport bloop.config.{Config => C}"
  },
  {
    "id" : "8fb8977f-0db8-4489-a5f5-e5cf83b5ca6d",
    "prId" : 935,
    "prUrl" : "https://github.com/scalameta/metals/pull/935",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5efc79d1-8e7b-468c-86e2-241f398e78ca",
        "parentId" : null,
        "authorId" : "99b86a37-7b24-412b-846e-038ecface4d6",
        "body" : "this branch starts at the line 91. It is way too complex and should be split into smaller units",
        "createdAt" : "2019-09-25T08:59:03Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "99b86a37-7b24-412b-846e-038ecface4d6",
        "tags" : [
        ]
      },
      {
        "id" : "547708df-a1bf-4ff8-96fa-199b3ce12ecb",
        "parentId" : "5efc79d1-8e7b-468c-86e2-241f398e78ca",
        "authorId" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "body" : "Good point, the logic has been refactored now.",
        "createdAt" : "2019-09-27T14:22:36Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "tags" : [
        ]
      }
    ],
    "commit" : "a95ae87fd9621161d156685f32480fcb7bb451a4",
    "line" : 625,
    "diffHunk" : "@@ -1,1 +623,627 @@    if (isVisited(name)) {\n      transitiveClasspath.getOrElse(name, Nil)\n    } else {\n      isVisited += name\n      transitiveClasspath.getOrElseUpdate(name, computeTransitiveClasspath())"
  },
  {
    "id" : "ad3bd048-0aa0-4196-bb5c-ebf5fd039bef",
    "prId" : 935,
    "prUrl" : "https://github.com/scalameta/metals/pull/935",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "775c0a4f-8200-410b-9b1b-672d3dc2c8b8",
        "parentId" : null,
        "authorId" : "a7ecab15-7126-4839-9885-ed1a3031e6b8",
        "body" : "I believe Jorge was strongly opposed to anything than bloop modifying the config file while it's working :thinking: ",
        "createdAt" : "2019-12-05T16:13:45Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "a7ecab15-7126-4839-9885-ed1a3031e6b8",
        "tags" : [
        ]
      },
      {
        "id" : "d058a95c-9b53-4f6e-b5d7-cd9bf66625c8",
        "parentId" : "775c0a4f-8200-410b-9b1b-672d3dc2c8b8",
        "authorId" : "1977d0df-25a0-4fd9-a417-470eafe55f98",
        "body" : "The config file can be modified while it's working, but it must be updated atomically. I don't remember being strongly opposed to this, but I do remember mentioning that tools that don't own these configuration files should never update them, that's something that only the original build tool can do. Let me know if this clarifies your thinking @tgodzik :smile:",
        "createdAt" : "2019-12-05T16:47:30Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "1977d0df-25a0-4fd9-a417-470eafe55f98",
        "tags" : [
        ]
      },
      {
        "id" : "5ce3ae38-5309-4fae-8c89-883119e010b2",
        "parentId" : "775c0a4f-8200-410b-9b1b-672d3dc2c8b8",
        "authorId" : "a7ecab15-7126-4839-9885-ed1a3031e6b8",
        "body" : "@jvican Thanks! That makes sense, I must have misunderstood previously.",
        "createdAt" : "2019-12-05T16:56:53Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "a7ecab15-7126-4839-9885-ed1a3031e6b8",
        "tags" : [
        ]
      },
      {
        "id" : "e96cb825-85dd-49ca-850d-24b916a58e9f",
        "parentId" : "775c0a4f-8200-410b-9b1b-672d3dc2c8b8",
        "authorId" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "body" : "Sounds great! I will follow up with a PR to make our file write operations atomic.\r\n\r\nWe use `_root_.bloop.config.write(json, out)` to write most of the JSON files in the Pants export. This step here happens only when the user creates a new file and we need to re-expand the file globs.",
        "createdAt" : "2019-12-05T20:24:45Z",
        "updatedAt" : "2019-12-05T20:24:45Z",
        "lastEditedBy" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "tags" : [
        ]
      }
    ],
    "commit" : "a95ae87fd9621161d156685f32480fcb7bb451a4",
    "line" : 84,
    "diffHunk" : "@@ -1,1 +82,86 @@        if (!sources.contains(sourceStr)) {\n          sources += sourceStr\n          jsonFile.writeText(ujson.write(json, indent = 4))\n          scribe.info(s\"add source: $jsonFile\")\n        }"
  },
  {
    "id" : "299cf7fa-aac8-4409-9afb-319505a06c33",
    "prId" : 935,
    "prUrl" : "https://github.com/scalameta/metals/pull/935",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d2a7fbf9-cbc8-49bd-88a2-5c81f7e5d235",
        "parentId" : null,
        "authorId" : "a7ecab15-7126-4839-9885-ed1a3031e6b8",
        "body" : "Shouldn't we use the process runner from the bloopInstall function?",
        "createdAt" : "2019-12-05T16:27:53Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "a7ecab15-7126-4839-9885-ed1a3031e6b8",
        "tags" : [
        ]
      },
      {
        "id" : "8de79255-16f2-485c-951d-41d7bfef13e5",
        "parentId" : "d2a7fbf9-cbc8-49bd-88a2-5c81f7e5d235",
        "authorId" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "body" : "No, since that one launches `metals/slowTask` and we call several system processes in this step.",
        "createdAt" : "2019-12-05T19:24:11Z",
        "updatedAt" : "2019-12-05T19:30:31Z",
        "lastEditedBy" : "a2bc4287-0a04-46c7-ab03-33243f01e61a",
        "tags" : [
        ]
      }
    ],
    "commit" : "a95ae87fd9621161d156685f32480fcb7bb451a4",
    "line" : 212,
    "diffHunk" : "@@ -1,1 +210,214 @@    ) ++ args.targets\n    val shortName = \"pants export-classpath export\"\n    SystemProcess.run(\n      shortName,\n      command,"
  }
]