[
  {
    "id" : "7acb7fc6-43a3-4ba5-b184-bb60b1e3160d",
    "prId" : 215,
    "prUrl" : "https://github.com/scalameta/metals/pull/215",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aa1ac6a2-1202-49c1-b608-8977c52881cf",
        "parentId" : null,
        "authorId" : "c7773eab-5a5b-4ca4-aed0-7b8a59085421",
        "body" : "I was doubting whether this should use the code from `ScalaErrorReporter` instead, like this:\r\n\r\n```scala\r\n  private def scalacAnalyze(doc: m.Document): Seq[Diagnostic] = {\r\n    val index = EagerInMemorySemanticdbIndex(\r\n      m.Database(doc :: Nil),\r\n      m.Sourcepath(Nil),\r\n      m.Classpath(Nil)\r\n    )\r\n    for {\r\n      doc <- index.database.documents\r\n      msg <- doc.messages\r\n    } yield msg.toLSP(\"scalac\")\r\n  }\r\n```\r\n\r\nI tried it, but it was glitchy so I left it as is. I don't understand very well why `EagerInMemorySemanticdbIndex` was used there and whether it should be used here. Semanticdbs we get here are already built interactively, isn't it enough?",
        "createdAt" : "2018-03-31T15:10:16Z",
        "updatedAt" : "2018-03-31T19:24:47Z",
        "lastEditedBy" : "c7773eab-5a5b-4ca4-aed0-7b8a59085421",
        "tags" : [
        ]
      }
    ],
    "commit" : "5708b7b0e46d970250e38a25ad44371815b04c29",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +39,43 @@          val scalacDiagnostics: Seq[Diagnostic] =\n            if (scalacDisabled) Nil\n            else document.messages.map(_.toLSP(\"scalac\"))\n\n          val linterTask: Task[Seq[Diagnostic]] ="
  }
]